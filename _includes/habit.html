<div id="habit-tracker">
    <p>The bar below shows how many days I was awake in December by 6 am and didn't sleep throughout the day.</p>
    <div id="counts" style="display: flex; justify-content: space-between; margin-bottom: 5px;">
      <span id="success-count">Success: 0</span>
      <span id="failure-count">Failure: 0</span>
    </div>
    <div id="progress-bar-container" data-total-days="31" data-success-days="0" data-failure-days="3">
      <div id="success-bar"></div>
      <div id="failure-bar"></div>
    </div>
    <div id="percentages" style="display: flex; justify-content: space-between; margin-top: 5px;">
      <span id="success-percentage">0%</span>
      <span id="failure-percentage">0%</span>
    </div>
  </div>
  
<style>
    #habit-tracker {
        font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        max-width: 400px;
        margin: 20px auto;
        font-size: 0.9em;
        text-align: center;
    }
    #progress-bar-container {
        display: flex;
        height: 20px;
        width: 100%;
        border-radius: 10px;
        overflow: hidden;
        background-color: #ddd;
        margin: 10px 0;
    }
    #success-bar {
        background-color: #4caf50;
        height: 100%;
        width: 0;
        transition: width 0.3s;
    }
    #failure-bar {
        background-color: #f44336;
        height: 100%;
        width: 0;
        transition: width 0.3s;
    }
    #counts, #percentages {
        font-size: 14px;
        color: #333;
    }
</style>
  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Access data from progress bar attributes
      const progressBar = document.getElementById("progress-bar-container");
      const successBar = document.getElementById("success-bar");
      const failureBar = document.getElementById("failure-bar");
  
      const totalDays = parseInt(progressBar.getAttribute("data-total-days"));
      const successDays = parseInt(progressBar.getAttribute("data-success-days"));
      const failureDays = parseInt(progressBar.getAttribute("data-failure-days"));
  
      // Validate input counts
      if (successDays + failureDays > totalDays) {
        console.error("Error: Success and failure days exceed total days.");
        return;
      }
  
      // Calculate percentages
      const successRate = (successDays / totalDays) * 100;
      const failureRate = (failureDays / totalDays) * 100;
  
      // Update progress bars
      successBar.style.width = `${successRate}%`;
      failureBar.style.width = `${failureRate}%`;
  
      // Update counts and percentages
      document.getElementById("success-count").textContent = `Success: ${successDays}`;
      document.getElementById("failure-count").textContent = `Failure: ${failureDays}`;
      document.getElementById("success-percentage").textContent = `${successRate.toFixed(1)}%`;
      document.getElementById("failure-percentage").textContent = `${failureRate.toFixed(1)}%`;
    });
  </script>
  